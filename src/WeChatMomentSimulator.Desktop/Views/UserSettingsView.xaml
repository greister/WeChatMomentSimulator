<UserControl x:Class="WeChatMomentSimulator.Desktop.Views.UserSettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:WeChatMomentSimulator.Desktop.Views"
             xmlns:viewModels="clr-namespace:WeChatMomentSimulator.Desktop.ViewModels"
             mc:Ignorable="d" 
             d:DesignHeight="*" d:DesignWidth="350"
             d:DataContext="{d:DesignInstance Type=viewModels:MainViewModel}">
    
    <Border Style="{StaticResource CardPanelStyle}">
        <DockPanel>
            <TextBlock DockPanel.Dock="Top" Text="虚拟用户设置" Style="{StaticResource SubtitleStyle}" Margin="0,0,0,10"/>
            
            <ScrollViewer Style="{StaticResource ScrollViewerStyle}">
                <StackPanel>
                    <!-- 基本用户设置 -->
                    <GroupBox Header="基本设置" Style="{StaticResource GroupBoxStyle}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="用户数量:" Style="{StaticResource BodyStyle}" VerticalAlignment="Center" Margin="0,0,10,5"/>
                            <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding UserCount}" Width="80" HorizontalAlignment="Left" Margin="0,0,0,5"/>
                            
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="随机用户名:" Style="{StaticResource BodyStyle}" VerticalAlignment="Center" Margin="0,0,10,5"/>
                            <CheckBox Grid.Row="1" Grid.Column="1" IsChecked="{Binding UseRandomUserNames}" Style="{StaticResource CheckBoxStyle}" VerticalAlignment="Center" Margin="0,0,0,5"/>
                            
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="头像风格:" Style="{StaticResource BodyStyle}" VerticalAlignment="Center" Margin="0,0,10,5"/>
                            <ComboBox Grid.Row="2" Grid.Column="1" Style="{StaticResource ComboBoxStyle}"
                                     ItemsSource="{Binding AvatarStyleOptions}" 
                                     SelectedItem="{Binding SelectedAvatarStyle}" 
                                     Width="120" 
                                     HorizontalAlignment="Left"/>
                        </Grid>
                    </GroupBox>
                    
                    <!-- 用户画像设置 -->
                    <GroupBox Header="用户画像" Style="{StaticResource GroupBoxStyle}">
                        <StackPanel>
                            <TextBlock Text="性别分布:" Style="{StaticResource BodyStyle}" Margin="0,0,0,5"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                
                                <TextBlock Grid.Column="0" Text="男:" Style="{StaticResource BodySmallStyle}" Margin="0,0,5,0" VerticalAlignment="Center"/>
                                <TextBox Grid.Column="1" Text="{Binding MalePercentage}" Width="40" HorizontalAlignment="Left" Margin="0,0,10,0"/>
                                <TextBlock Grid.Column="2" Text="女:" Style="{StaticResource BodySmallStyle}" Margin="0,0,5,0" VerticalAlignment="Center"/>
                                <TextBox Grid.Column="3" Text="{Binding FemalePercentage}" Width="40" HorizontalAlignment="Left"/>
                            </Grid>
                            
                            
                        </StackPanel>
                    </GroupBox>
                    
                    <!-- 手机状态参数 -->
                    <GroupBox Header="手机状态参数" Style="{StaticResource GroupBoxStyle}">
                        <StackPanel>
                            <TextBlock Text="电量范围:" Style="{StaticResource BodyStyle}" Margin="0,0,0,5"/>
                            <Grid Margin="0,0,0,10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                
                                <TextBlock Grid.Column="0" Text="最低:" Style="{StaticResource BodySmallStyle}" Margin="0,0,5,0"/>
                                <TextBox Grid.Column="1" Text="{Binding BatteryRange.Min}" Width="40" HorizontalAlignment="Left" Margin="0,0,10,0"/>
                                <TextBlock Grid.Column="2" Text="最高:" Style="{StaticResource BodySmallStyle}" Margin="0,0,5,0"/>
                                <TextBox Grid.Column="3" Text="{Binding BatteryRange.Max}" Width="40" HorizontalAlignment="Left"/>
                            </Grid>
                            
                            <TextBlock Text="网络类型:" Style="{StaticResource BodyStyle}" Margin="0,0,0,5"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                
                                <RadioButton Grid.Column="0" Content="5G" Style="{StaticResource RadioButtonStyle}" GroupName="NetworkType" IsChecked="{Binding NetworkType, Converter={StaticResource EnumToBooleanConverter}, ConverterParameter=5G}" Margin="0,0,15,0"/>
                                <RadioButton Grid.Column="1" Content="4G" Style="{StaticResource RadioButtonStyle}" GroupName="NetworkType" IsChecked="{Binding NetworkType, Converter={StaticResource EnumToBooleanConverter}, ConverterParameter=4G}" Margin="0,0,15,0"/>
                                <RadioButton Grid.Column="2" Content="3G" Style="{StaticResource RadioButtonStyle}" GroupName="NetworkType" IsChecked="{Binding NetworkType, Converter={StaticResource EnumToBooleanConverter}, ConverterParameter=3G}"/>
                            </Grid>

                            <TextBlock Text="WiFi:" Style="{StaticResource BodyStyle}" Margin="0,10,0,5"/>
                            <CheckBox Content="使用WiFi" Style="{StaticResource CheckBoxStyle}" IsChecked="{Binding UseWiFi}" Margin="0,0,0,10"/>
                            
                            <TextBlock Text="SIM卡:" Style="{StaticResource BodyStyle}" Margin="0,0,0,5"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                
                                <RadioButton Grid.Column="0" Content="一张" Style="{StaticResource RadioButtonStyle}" GroupName="SimCard" IsChecked="{Binding SimCardType, Converter={StaticResource EnumToBooleanConverter}, ConverterParameter=Single}" Margin="0,0,15,0"/>
                                <RadioButton Grid.Column="1" Content="两张" Style="{StaticResource RadioButtonStyle}" GroupName="SimCard" IsChecked="{Binding SimCardType, Converter={StaticResource EnumToBooleanConverter}, ConverterParameter=Dual}"/>
                            </Grid>
                            
                            <TextBlock Text="时间显示:" Style="{StaticResource BodyStyle}" Margin="0,10,0,5"/>
                            <ComboBox Style="{StaticResource ComboBoxStyle}" ItemsSource="{Binding TimeFormatOptions}" 
                                     SelectedItem="{Binding SelectedTimeFormat}"
                                     Width="120" HorizontalAlignment="Left"/>
                        </StackPanel>
                    </GroupBox>

                    <!-- 操作按钮区 -->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,5">
                        <Button Content="保存用户配置" Style="{StaticResource BaseButtonStyle}" Margin="0,0,5,0" Command="{Binding SaveUserSettingsCommand}"/>
                        <Button Content="用户数据分析" Style="{StaticResource SecondaryButtonStyle}" Margin="5,0,0,0" Command="{Binding ShowStatisticsCommand}"/>
                    </StackPanel>
                </StackPanel>
            </ScrollViewer>
        </DockPanel>
    </Border>
</UserControl>